import{a as D}from"./chunk-IHFH6B4X.js";import"./chunk-RZSBM2NZ.js";import{a as F}from"./chunk-BOL5MPVX.js";import"./chunk-KE22FN4B.js";import"./chunk-LGDWIIFX.js";import{a as P}from"./chunk-XPCZBMAJ.js";import{a as V}from"./chunk-H7ECQN7I.js";import"./chunk-KGX3I5MG.js";import{d as M}from"./chunk-GWR3QFH3.js";import{Fa as u,Ga as I,Ha as m,Ja as l,Ka as s,La as p,Ma as O,Na as k,O as f,Oa as C,Pa as d,Qa as c,S as E,Ua as v,V as g,Va as w,W as h,ab as x,rb as S,sb as T,tb as R,ua as a,va as b}from"./chunk-XYLY6XG4.js";function $(e,i){if(e&1&&(l(0,"th"),v(1),s()),e&2){let o=i.$implicit;a(),w(o)}}function z(e,i){e&1&&(l(0,"th"),v(1,"Acciones"),s())}function N(e,i){if(e&1&&(l(0,"td"),v(1),s()),e&2){let o=i.$implicit,t=c().$implicit;a(),w(t[o])}}function L(e,i){if(e&1){let o=C();l(0,"button",7),d("click",function(){g(o);let r=c(2).$implicit,n=c();return h(n.emitirEditar(r.id))}),p(1,"i",8),s()}}function U(e,i){if(e&1){let o=C();l(0,"button",9),d("click",function(){g(o);let r=c(2).$implicit,n=c();return h(n.emitirAviso(r.id))}),p(1,"i",10),s()}}function q(e,i){if(e&1&&(l(0,"td"),u(1,L,2,0,"button",5)(2,U,2,0,"button",6),s()),e&2){let o=c(2);a(),m("ngIf",o.catalogo==!0&&o.rol_user=="2"||o.rol=="1"),a(),m("ngIf",o.rol=="1")}}function B(e,i){if(e&1&&(l(0,"tr"),u(1,N,2,1,"td",2)(2,q,3,2,"td",3),s()),e&2){let o=c();a(),m("ngForOf",o.columnas),a(),m("ngIf",o.catalogo==!0&&o.rol_user=="2"||o.rol=="1")}}function G(e,i){if(e&1){let o=C();O(0),l(1,"tr")(2,"td")(3,"button",11),d("click",function(){g(o);let r=c();return h(r.emitirAgregar())}),p(4,"i",12),s()()(),k()}if(e&2){let o=c();a(2),I("colspan",o.columnas.length+1)}}function J(e,i){if(e&1){let o=C();l(0,"app-confirmacion-eliminacion",13),d("confirmado",function(r){g(o);let n=c();return h(n.eliminarElemento(r))}),s()}}var j=(()=>{let i=class i{ngOnInit(){}constructor(t,r){this.router=t,this.crud=r,this.catalogo=!1,this.section_id=!1,this.rol_user="",this.elementos=[],this.columnas=[],this.updateRoute="",this.createRoute="",this.deleteRoute="",this.backRoute="",this.editar=new f,this.agregar=new f,this.eliminar=new f,this.elementoEliminado=new f,this.mostrarConfirmacion=!1,this.idElemento=0,this.rol=localStorage.getItem("role_id")}emitirAviso(t){this.mostrarConfirmacion=!0,this.idElemento=t}emitirEditar(t){this.editar.emit(t),this.router.navigate([this.updateRoute+t])}eliminarElemento(t){t?(this.emitirEliminar(this.idElemento),console.log("idElemento",this.idElemento),this.mostrarConfirmacion=!1):(this.mostrarConfirmacion=!1,console.log("idElemento",this.idElemento))}emitirEliminar(t){this.eliminar.emit(t),this.crud.eliminar(this.deleteRoute,t).subscribe(r=>{this.elementoEliminado.emit()},r=>{console.error("Error al eliminar elemento",r)})}emitirAgregar(){this.agregar.emit(),this.router.navigate([this.createRoute])}};i.\u0275fac=function(r){return new(r||i)(b(M),b(V))},i.\u0275cmp=E({type:i,selectors:[["app-table"]],inputs:{catalogo:"catalogo",section_id:"section_id",rol_user:"rol_user",elementos:"elementos",columnas:"columnas",updateRoute:"updateRoute",createRoute:"createRoute",deleteRoute:"deleteRoute",backRoute:"backRoute"},outputs:{editar:"editar",agregar:"agregar",eliminar:"eliminar",elementoEliminado:"elementoEliminado"},standalone:!0,features:[x],decls:11,vars:5,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"],[1,"container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"confirmado",4,"ngIf"],["class","edit",3,"click",4,"ngIf"],["class","delete",3,"click",4,"ngIf"],[1,"edit",3,"click"],[1,"fa-solid","fa-gear"],[1,"delete",3,"click"],[1,"fa-solid","fa-trash"],[1,"add",3,"click"],[1,"fa-solid","fa-plus"],[3,"confirmado"]],template:function(r,n){r&1&&(p(0,"link",0),l(1,"div",1)(2,"table")(3,"thead")(4,"tr"),u(5,$,2,1,"th",2)(6,z,2,0,"th",3),s()(),l(7,"tbody"),u(8,B,3,2,"tr",2)(9,G,5,1,"ng-container",3),s()()(),u(10,J,1,0,"app-confirmacion-eliminacion",4)),r&2&&(a(5),m("ngForOf",n.columnas),a(),m("ngIf",n.catalogo==!0&&n.rol_user=="2"||n.rol=="1"),a(2),m("ngForOf",n.elementos),a(),m("ngIf",(n.catalogo==!0&&n.rol_user=="2"||n.rol_user=="1")&&!n.section_id),a(),m("ngIf",n.mostrarConfirmacion))},dependencies:[R,S,T,F],styles:["[_nghost-%COMP%]{font-family:Open Sans,sans-serif;font-weight:100;font-size:17px;color:#fff}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;height:91.5%;background-color:#fff;font-family:Arial,sans-serif;max-width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{max-height:50px;width:100%;border-collapse:collapse;color:#fff;background-color:#8fb2ff;overflow-y:auto}thead[_ngcontent-%COMP%]{background-color:#4d84fe}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:15px;border-bottom:2px solid #ffffff;text-align:center;vertical-align:middle}th[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{height:30px;width:30px;font-size:17px;justify-content:center;align-items:center;border:none;border-radius:6px;color:#fff;background-color:#3471f3;cursor:pointer;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 6px #0000001a}.edit[_ngcontent-%COMP%]{margin-right:5px}.delete[_ngcontent-%COMP%]{margin-left:5px}.edit[_ngcontent-%COMP%]:hover, .delete[_ngcontent-%COMP%]:hover, .add[_ngcontent-%COMP%]:hover{background-color:#2887c7}"]});let e=i;return e})();function K(e,i){e&1&&p(0,"app-spinner")}var ce=(()=>{let i=class i{constructor(t){this.usuarioService=t,this.elementos=[],this.columnas=["id","Nombre","Email","Rol"],this.updateRoute="/usuarios/update/",this.createRoute="/usuarios/create",this.deleteRoute="/usuarios/",this.backRoute="/home",this.rol_user="3",this.section_id=!0,this.loading=!0}ngOnInit(){this.obtenerDatos(),this.rol_user=localStorage.getItem("role_id")||this.rol_user}actualizarElementos(){this.ngOnInit()}obtenerDatos(){this.usuarioService.obtenerElementos().subscribe(t=>{this.elementos=t,this.stopLoading()},t=>{console.error("Error al obtener empleados",t)})}editarElemento(t){console.log("Editar elemento con ID:",t)}eliminarElemento(t){console.log("Eliminar elemento con ID:",t)}agregarElemento(t){console.log("se agregara un nuevo elemento ")}stopLoading(){setTimeout(()=>{this.loading=!1},500)}};i.\u0275fac=function(r){return new(r||i)(b(D))},i.\u0275cmp=E({type:i,selectors:[["app-home"]],standalone:!0,features:[x],decls:4,vars:9,consts:[[4,"ngIf"],[1,"container"],[1,"table"],[3,"section_id","rol_user","elementos","columnas","createRoute","updateRoute","deleteRoute","backRoute","elementoEliminado","eliminar","editar","agregar"]],template:function(r,n){r&1&&(u(0,K,1,0,"app-spinner",0),l(1,"div",1)(2,"div",2)(3,"app-table",3),d("elementoEliminado",function(){return n.actualizarElementos()})("eliminar",function(_){return n.eliminarElemento(_)})("editar",function(_){return n.editarElemento(_)})("agregar",function(_){return n.agregarElemento(_)}),s()()()),r&2&&(m("ngIf",n.loading),a(3),m("section_id",n.section_id)("rol_user",n.rol_user)("elementos",n.elementos)("columnas",n.columnas)("createRoute",n.createRoute)("updateRoute",n.updateRoute)("deleteRoute",n.deleteRoute)("backRoute",n.backRoute))},dependencies:[j,R,T,P],styles:[".container[_ngcontent-%COMP%]{height:91.5%;display:flex;justify-content:center}.table[_ngcontent-%COMP%]{width:90%;margin-top:50px}"]});let e=i;return e})();export{ce as HomeComponent};
