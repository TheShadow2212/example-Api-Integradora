import{a as y,b as M}from"./chunk-DOFHCZSW.js";import{a as F}from"./chunk-6K4NBGSG.js";import{a as C}from"./chunk-KGX3I5MG.js";import{b as _,d as j}from"./chunk-P4DI4OJ4.js";import{Fa as b,Ha as v,Ja as r,Ka as i,Pa as g,S as h,Ua as a,Va as l,Z as f,ab as x,ga as u,rb as S,tb as I,ua as m,va as c,xb as E}from"./chunk-YH6CFDQH.js";var H=(()=>{let t=class t{constructor(o){this.http=o,this.apiUrl=`${C.API_BASE_URL}/sensores/`}obtenerHistorial(o,e){return this.http.get(`${this.apiUrl}${o}/${e}`)}};t.\u0275fac=function(e){return new(e||t)(u(E))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function D(n,t){if(n&1&&(r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),a(4),i(),r(5,"td"),a(6),i(),r(7,"td"),a(8),i()()),n&2){let d=t.$implicit;m(2),l(d.name),m(2),l(d.data),m(2),l(d.room_id),m(2),l(d.date_time)}}var q=(()=>{let t=class t{constructor(o,e,s,p,O,R){this.sensorService=o,this.notificationService=e,this.habitacionSerive=s,this.route=p,this.router=O,this.ss=R,this.historial=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.nombre=this.route.snapshot.paramMap.get("nombre"),this.obtenerHistorial(this.id,this.nombre)}obtenerHistorial(o,e){this.sensorService.obtenerHistorial(o,e).subscribe(s=>{console.log(s),this.historial=s},s=>{})}goToRoom(){this.router.navigate(["/habitaciones/habitacion/",this.id])}};t.\u0275fac=function(e){return new(e||t)(c(H),c(y),c(M),c(_),c(j),c(F))},t.\u0275cmp=h({type:t,selectors:[["app-historial"]],standalone:!0,features:[x],decls:15,vars:1,consts:[[1,"container"],[1,"table-container"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,s){e&1&&(r(0,"div",0)(1,"div",1)(2,"table")(3,"tr")(4,"th"),a(5,"Name"),i(),r(6,"th"),a(7,"Data"),i(),r(8,"th"),a(9,"Room ID"),i(),r(10,"th"),a(11,"Date Time"),i()(),b(12,D,9,4,"tr",2),i()(),r(13,"button",3),g("click",function(){return s.goToRoom()}),a(14,"Regresar a la habitaci\xF3n"),i()()),e&2&&(m(12),v("ngForOf",s.historial))},dependencies:[I,S],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:91vh}.table-container[_ngcontent-%COMP%]{margin-bottom:20px;padding:20px;border:1px solid #ccc;border-radius:10px}table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer}"]});let n=t;return n})();export{q as HistorialComponent};
