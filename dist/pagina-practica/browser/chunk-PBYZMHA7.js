import{a as $}from"./chunk-BOL5MPVX.js";import{a as L,b as W}from"./chunk-SE5YUP7H.js";import{a as B}from"./chunk-LGDWIIFX.js";import{a as A}from"./chunk-XPCZBMAJ.js";import{a as R}from"./chunk-H7ECQN7I.js";import{d as V,h as F,m as z,n as N,o as j,q as D}from"./chunk-WHYPLDBK.js";import"./chunk-KGX3I5MG.js";import{d as H}from"./chunk-GWR3QFH3.js";import{Fa as u,Ha as x,Ja as e,Ka as o,La as _,O,Oa as C,Pa as p,Qa as b,S as M,Ua as s,V as f,Va as v,W as g,Wa as w,Ya as P,Za as k,_a as y,ab as S,rb as E,sb as I,tb as T,ua as d,va as h}from"./chunk-XYLY6XG4.js";function q(r,c){r&1&&_(0,"app-spinner")}function U(r,c){if(r&1){let a=C();e(0,"div",20),p("click",function(){let n=f(a).$implicit,l=b();return g(l.detailRoom(n.id))}),e(1,"p",21),s(2),o(),e(3,"p",22),s(4),o(),e(5,"p",23),s(6),o(),e(7,"div",24)(8,"button",25),p("click",function(){let n=f(a).$implicit,l=b();return g(l.detailRoom(n.id))}),s(9,"Ir a detalle"),o(),e(10,"button",26),p("click",function(i){let l=f(a).$implicit;return b().emitirAviso(l.id),g(i.stopPropagation())}),_(11,"i",27),o()()()}if(r&2){let a=c.$implicit;d(2),v(a.id),d(2),v(a.nombre),d(2),v(a.status)}}function G(r,c){if(r&1){let a=C();e(0,"div",28),_(1,"div",29),e(2,"div",30)(3,"p",31),s(4),o(),e(5,"p",32),s(6),o()(),e(7,"div",33)(8,"i",34),p("click",function(){let n=f(a).$implicit,l=b();return g(l.statusNotification(n.id))}),o()()()}if(r&2){let a=c.$implicit;d(4),w("Habitacion, ",a.room,""),d(2),v(a.data)}}function J(r,c){if(r&1){let a=C();e(0,"app-confirmacion-eliminacion",35),p("confirmado",function(i){f(a);let n=b();return g(n.eliminarElemento(i))}),o()}}var lt=(()=>{let c=class c{constructor(t,i,n,l,m){this.notificacionService=t,this.habitacionSerive=i,this.crud=n,this.router=l,this.ss=m,this.eliminar=new O,this.loading=!0,this.estado="Todas",this.mostrarConfirmacion=!1,this.idElemento=0,this.habitaciones=[],this.notificaciones=[],this.update=this.ss.dataUpdated$.subscribe(()=>{console.log("Actualizando datos"),this.ngOnInit()})}ngOnDestroy(){this.update&&this.update.unsubscribe()}ngOnInit(){this.obtenerDatos(),this.obtenerNotificaciones()}obtenerDatos(){this.habitacionSerive.obtenerElemento().subscribe(t=>{this.habitaciones=t,this.stopLoading()},t=>{console.error("Error al obtener elementos",t)})}obtenerNotificaciones(){this.notificacionService.obtenerElemento().subscribe(t=>{this.notificaciones=t,this.notificaciones.reverse(),console.log(this.notificaciones)},t=>{console.error("Error al obtener elementos",t)})}eliminarElemento(t){t?(this.emitirEliminar(this.idElemento),this.mostrarConfirmacion=!1):this.mostrarConfirmacion=!1}emitirAviso(t){this.mostrarConfirmacion=!0,this.idElemento=t}statusNotification(t){this.notificacionService.updateNotification(t).subscribe(i=>{this.ngOnInit()},i=>{console.error("Error al actualizar notificacion",i)})}emitirEliminar(t){this.crud.eliminar("/habitaciones/",t).subscribe(i=>{this.ngOnInit()},i=>{console.error("Error al eliminar elemento",i)})}habitacionesFiltradas(){return this.estado==="Activa"?this.habitaciones.filter(t=>t.status==="Activa"):this.estado==="Desactiva"?this.habitaciones.filter(t=>t.status==="Desactiva"):this.habitaciones}addRoom(){this.router.navigate(["/habitacion/create"])}detailRoom(t){this.router.navigate(["/habitaciones/habitacion",t])}stopLoading(){setTimeout(()=>{this.loading=!1},500)}};c.\u0275fac=function(i){return new(i||c)(h(L),h(W),h(R),h(H),h(B))},c.\u0275cmp=M({type:c,selectors:[["app-habitaciones"]],standalone:!0,features:[S],decls:25,vars:5,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap","rel","stylesheet"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"],[4,"ngIf"],[1,"container"],[1,"rooms-container"],[1,"title-container"],[1,"open-sans-font","title"],[1,"select",3,"ngModel","ngModelChange"],["value","Todas"],["value","Activa"],["value","Desactiva"],[1,"cards-container"],["class","habitacion-card",3,"click",4,"ngFor","ngForOf"],[1,"activities-container"],[1,"add-element",3,"click"],[1,"alerts-container"],["class","notificacion-container",4,"ngFor","ngForOf"],[3,"confirmado",4,"ngIf"],[1,"habitacion-card",3,"click"],[1,"habitacion-id"],[1,"habitacion-nombre"],[1,"habitacion-status"],[1,"btn-container"],[1,"detalle-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"fa-solid","fa-trash"],[1,"notificacion-container"],[1,"red"],[1,"data-noti"],[1,"noti-ttl"],[1,"noti-data"],[1,"icon-delt"],[1,"fa-regular","fa-square-minus","delete-symbol",3,"click"],[3,"confirmado"]],template:function(i,n){i&1&&(_(0,"link",0)(1,"link",1)(2,"link",2)(3,"link",3),u(4,q,1,0,"app-spinner",4),e(5,"div",5)(6,"div",6)(7,"div",7)(8,"p",8),s(9,"Habitaciones"),o(),e(10,"select",9),y("ngModelChange",function(m){return k(n.estado,m)||(n.estado=m),m}),e(11,"option",10),s(12,"Todas"),o(),e(13,"option",11),s(14,"Activas"),o(),e(15,"option",12),s(16,"Desactivadas"),o()()(),e(17,"div",13),u(18,U,12,3,"div",14),o()(),e(19,"div",15)(20,"button",16),p("click",function(){return n.addRoom()}),s(21,"Agregar una habitacion"),o(),e(22,"div",17),u(23,G,9,2,"div",18),o()()(),u(24,J,1,0,"app-confirmacion-eliminacion",19)),i&2&&(d(4),x("ngIf",n.loading),d(6),P("ngModel",n.estado),d(8),x("ngForOf",n.habitacionesFiltradas()),d(5),x("ngForOf",n.notificaciones),d(),x("ngIf",n.mostrarConfirmacion))},dependencies:[T,E,I,D,N,j,z,V,F,$,A],styles:[`[_nghost-%COMP%]{font-family:Open Sans,sans-serif}.container[_ngcontent-%COMP%]{width:100%;display:flex;height:91.5%;background-color:#f8fafb;padding-left:70px;padding-top:40px}.rooms-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;width:50%;height:100%}.space-nttm[_ngcontent-%COMP%]{margin-bottom:20px}.activities-container[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:visible;flex-direction:column;width:50%;height:100%}.title-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-left:40px}.open-sans-font[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-optical-sizing:auto;font-weight:500;font-size:26px;font-style:normal;font-variation-settings:"wdth" 100}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:start;flex-wrap:wrap;overflow:visible;margin-top:20px;margin-left:20px}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.alerts-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;width:90%;height:500px;border-radius:20px;margin-bottom:30px;padding:10px;background-color:#fff;margin-top:20px;box-shadow:0 0 30px #0000001a}.add-element[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:15px;height:27px;margin-top:15px;border:none;border-radius:10px;cursor:pointer;font-weight:200;width:80%;background-color:#4d84fe;color:#fff;box-shadow:0 0 30px #0000001a;transition:background-color .3s,color .3s,transform .3s,font-size .3s,margin-bottom .3s,height .3s,border-radius .3s}.add-element[_ngcontent-%COMP%]:hover{background-color:#3568e0;transform:scale(1.02);margin-bottom:5px;height:27px;border-radius:15px;font-size:16px;color:#fff}.select[_ngcontent-%COMP%]{display:flex;align-items:center;width:110px;padding-left:10px;margin-top:6px;height:30px;margin-left:20px;background-color:#fff;border-radius:7px;border:none;box-shadow:0 0 30px #0000001a;appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url('data:image/svg+xml;utf8,<svg fill="%237D807F" height="24" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');background-repeat:no-repeat;background-position-x:90px;background-position-y:3px;transition:transform .3s,background-color .3s,color .3s,border-radius .3s,box-shadow .3s}.select[_ngcontent-%COMP%]:focus{outline:none}.select[_ngcontent-%COMP%]:hover{background-color:#f8fafb;transform:scale(1.1)}.option[_ngcontent-%COMP%]{background-color:#fff}.select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background-color:gray;transform:scale(1.1)}.habitacion-card[_ngcontent-%COMP%]{background-color:#fff;padding:20px;margin-left:20px;cursor:pointer;border-radius:6px;width:270px;max-height:170px;margin-bottom:20px;position:relative;box-shadow:0 0 30px #0000000d;transition:transform .3s,color .3s,background-color .1s;flex-shrink:0}.habitacion-card[_ngcontent-%COMP%]:hover{background-color:#4d83ff;transform:scale(1.01);color:#fff;box-shadow:0 0 30px #00008b80}.habitacion-id[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.habitacion-nombre[_ngcontent-%COMP%]{text-align:start;font-weight:500;margin-top:20px}.habitacion-status[_ngcontent-%COMP%]{text-align:start;font-weight:100;margin:15px 15px 20px}.habitacion-card[_ngcontent-%COMP%]:hover   .btn-container[_ngcontent-%COMP%]{height:25px}.detalle-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s}.btn-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:0;overflow:hidden;transition:height .3s;overflow:visible;background-color:#fff;border-radius:10px}.detalle-btn[_ngcontent-%COMP%]{width:85%;height:100%;border:none;color:#fff;border-top-left-radius:10px;border-bottom-left-radius:10px;background-color:#709bff;cursor:pointer}.delete-btn[_ngcontent-%COMP%]{width:15%;border:none;color:#fff;border-top-right-radius:10px;border-bottom-right-radius:10px;background-color:#709bff;cursor:pointer}.detalle-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s,transform .5s,background-color .3s,margin .5s}.habitacion-card[_ngcontent-%COMP%]:hover   .detalle-btn[_ngcontent-%COMP%], .habitacion-card[_ngcontent-%COMP%]:hover   .delete-btn[_ngcontent-%COMP%]{opacity:1}.detalle-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#87b0fa;margin-right:9px}.delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a84343;margin-left:1px}.delete-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .2s}.delete-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.notificacion-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:10px;position:relative;background-color:#eee;border-radius:10px;transition:all .3s}.red[_ngcontent-%COMP%]{background-color:#ff4d4d;border-bottom-left-radius:5px;border-top-left-radius:5px;width:6px;height:100%;margin-right:7px}.data-noti[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.notificacion-container[_ngcontent-%COMP%]:hover{scale:1.03;background-color:#e1e1e1}.noti-ttl[_ngcontent-%COMP%]{font-size:17px;font-weight:500;margin-bottom:5px}.noti-data[_ngcontent-%COMP%]{font-size:15px;font-weight:300}.icon-delt[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;right:0;width:30px;height:100%}.delete-symbol[_ngcontent-%COMP%]{color:#939393;cursor:pointer;margin-right:15px;transition:all .3s}.delete-symbol[_ngcontent-%COMP%]:hover{scale:1.2;color:#797979}`]});let r=c;return r})();export{lt as HabitacionesComponent};
